\chapter{Calcular Troco - UC008} \label{uc008}

\section{Breve descrição}

Quando o pagamento for em dinheiro, o atendente calculará o troco do cliente.

\section{Atores}

\begin{enumerate}
	\item Atendente da empresa, Casa das Marmitas.
\end{enumerate}

\section{Pré-condições}

\begin{enumerate}
	\item O atendente deverá possuir login e senha de acesso autenticados pelo sistema.
	\item O atendente deverá ter permissão para realizar o pedido do cliente.
	\item O atendente deverá ter executado, anteriormente, o caso de uso \nameref{uc007}.
	\item O atendente deverá ter acionado a opção \textbf{Calcular Troco} da tela \textbf{Registrar Pedido}.
\end{enumerate}

\section{Fluxo de eventos}

\subsection{Fluxo básico}

\begin{enumerate}[label=P\arabic*]
	\item O sistema apresenta a tela \textbf{Calcular Troco} com os campos \ref{uc008_rn:1}. \label{uc008_p:1}
	\item No campo \textbf{Quantia recebida}, o atendente informa a quantia recebida em dinheiro. \label{uc008_p:2}	
	\item O atendente aciona a opção \textbf{Calcular}. \label{uc008_p:3}\ref{uc008_a:1}
	\item O sistema preenche o campo \textbf{Troco} com valor calculado. \ref{uc008_e:1}
	\item O atendente visualiza o valor calculado.
	\item O atendente vai para o passo \ref{uc008_a:1}.	
\end{enumerate}

\subsection{Fluxos alternativos}

\begin{enumerate}[label=A\arabic*]
	\item Alternativa ao passo \ref{uc008_p:3} - Cancelar cálculo \label{uc008_a:1}
	\begin{enumerate}[label*=.\arabic*]
		\item O atendente aciona a opção \textbf{Cancelar}.
		\item O sistema fecha a tela atual.
		\item O sistema retorna ao caso de uso \nameref{uc007}.
		\item Esse caso de uso é encerrado.
	\end{enumerate} 	
\end{enumerate}

\subsection{Exceções}

\begin{enumerate}[label=E\arabic*]
	\item O atendente não informou o campo de quantia recebida \label{uc008_e:1}
	\begin{enumerate}[label*=.\arabic*]
		\item[] No passo \ref{uc008_p:2}, o atendente deixou em branco o campo de quantia recebida.
		\item O sistema exibe a mensagem \textbf{Favor preencher o campo obrigatório}.
		\item O sistema destaca os campos \textbf{Quantia recebida}.
		\item O sistema retorna ao passo anterior.
	\end{enumerate}
	
	\item O atendente preencheu de forma errada o campo de quantia recebida \label{uc008_e:2}
	\begin{enumerate}[label*=.\arabic*]		
		\item[] No passo \ref{uc008_p:2}, o atendente não preencheu de forma correta o campo de quantia recebida.		
		\item O sistema exibe a mensagem \textbf{A quantia recebida informada não é válida}.
		\item O sistema destaca o campo \textbf{Quantia recebida}.
		\item O sistema retorna ao passo anterior.
	\end{enumerate}
\end{enumerate}

\section{Pós-condições}

\begin{enumerate}
	\item O atendente terá calculado o troco do cliente.
	\item O sistema terá retornado ao caso de uso \nameref{uc007}.	
\end{enumerate}

\section{Regras de negócios especiais}

\begin{enumerate}[label=RN\arabic*]
	\item Exibe os campos referente à tela \textbf{Calcular Troco} de acordo com a tabela \ref{uc008_tb_rn1}. \label{uc008_rn:1}
	\begin{table}[htb]
		\ABNTEXfontereduzida
		\caption[Campos referente à tela \textbf{Calcular Troco}]{Campos referente à tela \textbf{Calcular Troco}.}
		\label{uc008_tb_rn1}
		\begin{tabular}{|p{3.0cm}|p{2.0cm}|p{1.5cm}|p{2.0cm}|p{5.75cm}|}
			\hline
			\textbf{Campo}   & \textbf{Tipo} & \textbf{Tamanho} & \textbf{Obrigatório} & \textbf{Observação}                                                              \\ \hline
			Total do pedido  & Float         & N.A              & SIM                  & O sistema exibirá, no formato moeda, o valor total do pedido.                    \\ \hline
			Quantia recebida & Float         & N.A              & SIM                  & O atendente terá que informar, no formato moeda, a quantia recebida em dinheiro. \\ \hline
			Troco            & Float         & N.A              & SIM                  & O sistema exibirá, no formato moeda, o o troco.                                  \\ \hline
		\end{tabular}
	\end{table}
\end{enumerate}